<!-- 探索日记编辑页 -->
<view class="container">
  <!-- 页面标题 -->
  <view class="header">
    <text class="page-title">探索日记</text>
    <text class="place-name" wx:if="{{placeName}}">地点：{{placeName}}</text>
  </view>

  <!-- 照片上传区 -->
  <view class="photo-section">
    <text class="section-title">现场照片</text>
    <view class="photos-container">
      <view wx:for="{{photos}}" wx:key="index" class="photo-item">
        <image class="uploaded-photo" src="{{item}}" mode="aspectFill"></image>
        <view class="delete-btn" bindtap="deletePhoto" data-index="{{index}}">
          <image class="delete-icon" src="/images/delete.png"></image>
        </view>
      </view>
      <view wx:if="{{photos.length < 3}}" class="upload-placeholder" bindtap="uploadPhoto">
        <image class="upload-icon" src="/images/add-photo.png"></image>
        <text class="upload-hint">最多上传 3 张现场照片</text>
      </view>
    </view>
  </view>

  <!-- 文字输入区 -->
  <view class="text-section">
    <text class="section-title">一句话描述你的感受</text>
    <textarea 
      class="description-input" 
      placeholder="分享你在这里的发现吧…（10-200 字）" 
      maxlength="200"
      bindinput="onInput"
      value="{{description}}"
    ></textarea>
    <view class="word-count">{{wordCount}}/200</view>
  </view>

  <!-- 底部提交区 -->
  <view class="footer-section">
    <button 
      class="submit-btn" 
      bindtap="submitDiary"
      disabled="{{!canSubmit}}"
    >发布</button>
  </view>
</view>