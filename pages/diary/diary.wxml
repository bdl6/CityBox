<!-- index.wxml -->
<view class="container">
  

  <!-- 探索日记卡片 -->
  <view class="card journal-card">
    <view class="card-header">
      <view class="card-icon">✏️</view>
      <view class="card-title">探索日记</view>
    </view>
    <view class="card-content">
      <view class="location-info">
        <view class="location-icon">📍</view>
        <view class="location-text">{{title}}</view>
      </view>
    </view>
  </view>

  <!-- 现场照片上传 -->
  <view class="card photo-card">
    <view class="card-header">
      <view class="card-icon">📷</view>
      <view class="card-title">现场照片</view>
    </view>
    <view class="card-content">
      <view class="upload-tip">最多上传3张现场照片</view>
      <view class="upload-container">
        <!-- 上传按钮，当图片数量小于3时显示 -->
        <view class="upload-btn" bindtap="chooseImage" wx:if="{{imageList.length < 3}}">
          <view class="add-icon">+</view>
          <view class="upload-text">点击上传</view>
        </view>
        
        <!-- 已选择的图片列表 -->
        <block wx:for="{{imageList}}" wx:key="index">
          <view class="image-item">
            <image src="{{item}}" class="preview-image" mode="aspectFill" />
            <view class="delete-btn" bindtap="deleteImage" data-index="{{index}}">×</view>
          </view>
        </block>
      </view>
    </view>
  </view>

  <!-- 感受描述 -->
  <view class="card desc-card">
    <view class="card-header">
      <view class="card-icon">💭</view>
      <view class="card-title">一句话描述你的感受</view>
    </view>
    <view class="card-content">
      <textarea 
        class="desc-input" 
        placeholder="分享你在这里的发现吧...（10-200字）" 
        bindinput="inputDesc" 
        maxlength="200" 
      />
      <view class="word-count">{{descLength}}/200</view>
    </view>
  </view>

  <!-- 发布按钮 -->
  <button class="publish-btn" bindtap="publish">
    <span>发布探索日记</span>
    <view class="arrow-icon">→</view>
  </button>
</view>